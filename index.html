<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tarefas do Grupo</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="./favicon.ico">
</head>

<body>

  <!-- ===== TELA DE LOGIN (aparece primeiro) ===== -->
  <div id="authScreen" class="wrap">
    <header class="authHeader">
      <h1>ğŸ“ Tarefas do Grupo</h1>
      <div class="muted">Entre para postar e usar o chat</div>
    </header>

    <div class="card authCard">
      <div class="meta" style="margin-top:0">
        <span class="pill">ğŸ” Login do Grupo</span>
        <span class="muted" id="authStatus">Use UsuÃ¡rio + Senha</span>
      </div>

      <div class="grid" style="margin-top:12px">
        <input id="username" placeholder="UsuÃ¡rio (ex: arthur)" autocomplete="username" />
        <input id="password" type="password" placeholder="Senha (mÃ­n. 6)" autocomplete="current-password" />
      </div>

      <div class="row" style="margin-top:12px">
        <button id="btnLogin">Entrar</button>
        <button id="btnSignup" class="btnGhost">Criar conta</button>
      </div>

      <div class="muted" style="margin-top:10px">
        Dica: use usuÃ¡rio simples (sem espaÃ§os), tipo <b>joao</b>, <b>maria</b>.
      </div>
    </div>

    <div class="muted" style="margin-top:12px">
      âœ… Depois que logar uma vez, nÃ£o precisa logar de novo nesse aparelho.
    </div>
  </div>


  <!-- ===== APP (sÃ³ aparece depois de logar) ===== -->
  <div id="app" class="wrap" style="display:none">
    <header>
      <h1>ğŸ“ Tarefas do Grupo</h1>

      <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end">
        <span class="pill">ğŸ‘¤ <span id="who">...</span></span>
        <button id="btnLogout" class="btnGhost">Sair</button>
        <div class="muted" id="status">Conectandoâ€¦</div>
      </div>
    </header>

    <!-- POSTAR -->
    <div class="card">
      <div class="row">
        <input id="author" placeholder="Seu nome" />

        <select id="subject">
          <option value="Geral">Geral</option>
          <option>MatemÃ¡tica</option>
          <option>PortuguÃªs</option>
          <option>FÃ­sica</option>
          <option>QuÃ­mica</option>
          <option>HistÃ³ria</option>
          <option>Geografia</option>
          <option>Biologia</option>
          <option>InglÃªs</option>
        </select>

        <!-- âœ… professor -->
        <select id="teacher" disabled>
          <option value="">Professor (selecione a matÃ©ria)</option>
        </select>
      </div>

      <div class="grid" style="margin-top:10px">
        <input id="title" placeholder="TÃ­tulo (ex: Lista 5 - QuestÃ£o 3)" />
        <textarea id="body" placeholder="Escreve a resposta/explicaÃ§Ã£o aqui..."></textarea>
        <input id="link" placeholder="Link opcional (https://)" />

        <div class="row" style="align-items:center;justify-content:space-between">
          <div class="muted">Tudo aparece pra todo mundo em tempo real âœ…</div>

          <!-- âœ… MULTI-FOTO -->
          <label class="fileBtn">
            ğŸ“· Escolher fotos
            <input type="file" id="photo" accept="image/*" multiple hidden />
          </label>
        </div>

        <!-- âœ… Preview multi -->
        <div id="photoPreviewWrap" class="photoPreviewWrap" hidden>
          <div class="muted" style="margin-top:6px">PrÃ©via (clique no âœ• pra remover uma)</div>
          <div id="photoPreviewList" class="photoPreviewList"></div>

          <div class="row" style="margin-top:10px">
            <button type="button" id="removeAllPhotos" class="btnGhost">Remover todas</button>
          </div>
        </div>

        <button id="btnPost">Publicar</button>
      </div>
    </div>

    <!-- FEED -->
    <div class="feed" id="feed"></div>
  </div>


  <!-- BotÃ£o flutuante do chat -->
  <button id="chatFab" class="chatFab" aria-label="Abrir chat" style="display:none">
    ğŸ’¬
    <span id="chatBadge" class="chatBadge" hidden>0</span>
  </button>

  <!-- Drawer do chat (canto) -->
  <div id="chatDrawer" class="chatDrawer" aria-hidden="true">
    <div class="chatTop">
      <div class="chatTopTitle">ğŸ’¬ Chat do Grupo</div>
      <button id="chatClose" class="chatClose" aria-label="Fechar">âœ•</button>
    </div>

    <div id="chatBox" class="chatBox"></div>

    <div class="chatBottom">
      <textarea id="chatText" placeholder="Mensagem..." rows="2"></textarea>
      <button id="btnSend">Enviar</button>
    </div>
  </div>

  <!-- âœ… Modal imagem -->
  <div id="imgModal" class="imgModal" aria-hidden="true">
    <button id="imgModalClose" class="imgModalClose" aria-label="Fechar imagem">âœ•</button>
    <div class="imgModalInner" role="dialog" aria-modal="true">
      <img id="imgModalSrc" alt="imagem ampliada">
    </div>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>
